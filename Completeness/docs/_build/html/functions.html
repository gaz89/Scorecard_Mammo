<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>dcard-completeness documentation &#8212; dcard-completeness 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=2709fde1"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="DataCard - Completeness Documentation" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="dcard-completeness-documentation">
<h1>dcard-completeness documentation<a class="headerlink" href="#dcard-completeness-documentation" title="Link to this heading">¶</a></h1>
</section>
<section id="functions">
<h1>Functions<a class="headerlink" href="#functions" title="Link to this heading">¶</a></h1>
<section id="score-utils">
<h2><strong>Score Utils</strong><a class="headerlink" href="#score-utils" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="score_utils.dataset_level_completeness_check">
<span class="sig-prename descclassname"><span class="pre">score_utils.</span></span><span class="sig-name descname"><span class="pre">dataset_level_completeness_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_matching_methods</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#score_utils.dataset_level_completeness_check" title="Link to this definition">¶</a></dt>
<dd><p>Perform a dataset-level completeness check to verify that the dataset header contains all required fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_df</strong> (<em>Dictionary</em>) – Nested dictionary containing dataset metadata</p></li>
<li><p><strong>required_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of required fields</p></li>
<li><p><strong>field_matching_methods</strong> (<em>Dictionary</em>) – Dictionary with names of field matching methods to be used and parameters for each method</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing missing fields and unexpected fields</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="score_utils.compute_completeness_score">
<span class="sig-prename descclassname"><span class="pre">score_utils.</span></span><span class="sig-name descname"><span class="pre">compute_completeness_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">missing_headers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_fields</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#score_utils.compute_completeness_score" title="Link to this definition">¶</a></dt>
<dd><p>Compute the completeness score based on the presence or absence of required fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>missing_headers</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of required fields that are missing from the dataset metadata.</p></li>
<li><p><strong>required_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of all required metadata fields.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Score between 0 and 1</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="score_utils.record_level_completeness_check">
<span class="sig-prename descclassname"><span class="pre">score_utils.</span></span><span class="sig-name descname"><span class="pre">record_level_completeness_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">available_headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visualize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#score_utils.record_level_completeness_check" title="Link to this definition">¶</a></dt>
<dd><p>Perform a check at the record level to check the metadata availability of each data record.
Return missing field information for each record.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_df</strong> (<em>Dictionary</em>) – Nested dictionary containing dataset metadata</p></li>
<li><p><strong>required_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of all required metadata fields.</p></li>
<li><p><strong>available_headers</strong> (<em>Dictionary</em>) – Required fields available in metadata. 
Dictionary with the required field names as keys and the matched dataset field names as values</p></li>
<li><p><strong>visualize</strong> (<em>bool</em>) – Flag to plot the record level completeness information in barcharts</p></li>
<li><p><strong>savefig</strong> (<em>bool</em>) – Flag to save the figures as pngs</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with row and column completeness information</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary</p>
</dd>
</dl>
</dd></dl>

</section>
<hr class="docutils" />
<section id="field-matching-utils">
<h2><strong>Field Matching Utils</strong><a class="headerlink" href="#field-matching-utils" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="field_matching_utils.clean_string">
<span class="sig-prename descclassname"><span class="pre">field_matching_utils.</span></span><span class="sig-name descname"><span class="pre">clean_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#field_matching_utils.clean_string" title="Link to this definition">¶</a></dt>
<dd><p>Cleans an input string by replacing all non-alphanumeric characters with “space”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>s</strong> (<em>str</em>) – Input string</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Cleaned string</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="field_matching_utils.strict_field_matching">
<span class="sig-prename descclassname"><span class="pre">field_matching_utils.</span></span><span class="sig-name descname"><span class="pre">strict_field_matching</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_fields</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#field_matching_utils.strict_field_matching" title="Link to this definition">¶</a></dt>
<dd><p>Given lists of required fields and dataset fields, returns a mapping from
each required field to a dataset field if the required field name is found 
in the dataset field name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Header fields present in dataset metadata.</p></li>
<li><p><strong>required_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Fields of interest.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with required_fields present in dataset_fields as keys and the corresponding dataset fields as values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="field_matching_utils.soft_field_matching">
<span class="sig-prename descclassname"><span class="pre">field_matching_utils.</span></span><span class="sig-name descname"><span class="pre">soft_field_matching</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_fields</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#field_matching_utils.soft_field_matching" title="Link to this definition">¶</a></dt>
<dd><p>Given lists of required fields and dataset fields, returns a mapping from
each required field to a dataset field if the cleaned required field name is found 
in the cleaned dataset field name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Header fields present in dataset metadata.</p></li>
<li><p><strong>required_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Fields of interest.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with required_fields present in dataset_fields as keys and the corresponding dataset fields as values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="field_matching_utils.dictionary_field_matching">
<span class="sig-prename descclassname"><span class="pre">field_matching_utils.</span></span><span class="sig-name descname"><span class="pre">dictionary_field_matching</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_dictionary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#field_matching_utils.dictionary_field_matching" title="Link to this definition">¶</a></dt>
<dd><p>Given lists of required fields and dataset fields, returns a mapping from
each required field to a dataset field if the required field name is found 
in the dataset field name. If a field alias dictionary is provided, all cleaned
aliases for each required field are checked against each dataset field to
find possible matches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Header fields present in dataset metadata.</p></li>
<li><p><strong>required_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Fields of interest.</p></li>
<li><p><strong>field_dictionary</strong> (<em>dict</em><em>[</em><em>str</em><em>]</em>) – A dictionary with the required_fields as keys and a list of common variations for each required field as values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with required_fields present in dataset_fields as keys and the corresponding dataset fields as values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str]</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="field_matching_utils.fuzzy_field_matching">
<span class="sig-prename descclassname"><span class="pre">field_matching_utils.</span></span><span class="sig-name descname"><span class="pre">fuzzy_field_matching</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">similarity_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">70</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#field_matching_utils.fuzzy_field_matching" title="Link to this definition">¶</a></dt>
<dd><p>Given lists of required fields and dataset fields, returns a mapping from
each required field to a dataset field using fuzzy scoring.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Header fields present in dataset metadata.</p></li>
<li><p><strong>required_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Fields of interest.</p></li>
<li><p><strong>similarity_threshold</strong> (<em>int</em>) – Fuzzy score threshold which determines if the match returned through fuzzy matching is acceptable or not.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with required_fields present in dataset_fields as keys and the corresponding dataset fields as values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="field_matching_utils.get_fuzzy_matches">
<span class="sig-prename descclassname"><span class="pre">field_matching_utils.</span></span><span class="sig-name descname"><span class="pre">get_fuzzy_matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#field_matching_utils.get_fuzzy_matches" title="Link to this definition">¶</a></dt>
<dd><p>Given lists of required fields and dataset fields, returns the top N
matches from dataset fields for each required field using fuzzy scoring</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Header fields present in dataset metadata.</p></li>
<li><p><strong>required_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Fields of interest.</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – Number of matches to return</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with required_fields as keys and the N most similar dataset_fields along with similarity scores as values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="field_matching_utils.get_LM_matches">
<span class="sig-prename descclassname"><span class="pre">field_matching_utils.</span></span><span class="sig-name descname"><span class="pre">get_LM_matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#field_matching_utils.get_LM_matches" title="Link to this definition">¶</a></dt>
<dd><p>Given lists of required fields and dataset fields, returns the top N
matches from dataset fields for each required field using cosine-similarity
score calculated on SentenceTransformer embeddings for the fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Header fields present in dataset metadata.</p></li>
<li><p><strong>required_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Fields of interest.</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – Number of matches to return</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with required_fields as keys and the N most similar dataset_fields along with similarity scores as values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="field_matching_utils.ranked_field_matching">
<span class="sig-prename descclassname"><span class="pre">field_matching_utils.</span></span><span class="sig-name descname"><span class="pre">ranked_field_matching</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ranking_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fuzzy'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#field_matching_utils.ranked_field_matching" title="Link to this definition">¶</a></dt>
<dd><p>Given lists of required fields and dataset fields, performs
user-assisted field matching. For each required field, the top N
matches found from dataset fields using the method specified by ranking_method 
is provided to the user for selection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Header fields present in dataset metadata.</p></li>
<li><p><strong>required_fields</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Fields of interest.</p></li>
<li><p><strong>ranking_method</strong> (<em>str</em>) – Specify the ranking method, ‘fuzzy’ or ‘LM’ (Language Model)</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – Number of matches to return</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with required_fields present in dataset_fields as keys and the corresponding dataset fields as values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary</p>
</dd>
</dl>
</dd></dl>

</section>
<hr class="docutils" />
<section id="io-utils">
<h2><strong>IO Utils</strong><a class="headerlink" href="#io-utils" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="io_utils.load_metadata_file">
<span class="sig-prename descclassname"><span class="pre">io_utils.</span></span><span class="sig-name descname"><span class="pre">load_metadata_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io_utils.load_metadata_file" title="Link to this definition">¶</a></dt>
<dd><p>Reads a metadata file into a pandas dataframe. Automatically infers filetype from extension.
Works with CSV, XLS, and XLSX files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – Path to metadata file, defaults to None which prompts user to enter file path.</p></li>
<li><p><strong>sep</strong> (<em>str</em>) – Field separator in metadata file, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pandas dataframe with the loaded metadata</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="io_utils.load_dataset_csv">
<span class="sig-prename descclassname"><span class="pre">io_utils.</span></span><span class="sig-name descname"><span class="pre">load_dataset_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">','</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io_utils.load_dataset_csv" title="Link to this definition">¶</a></dt>
<dd><p>Load a CSV file containing the dataset metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – Path to metadata file</p></li>
<li><p><strong>sep</strong> (<em>str</em>) – Field separator in metadata file, defaults to ‘,’</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pandas dataframe with the loaded metadata</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="io_utils.load_json">
<span class="sig-prename descclassname"><span class="pre">io_utils.</span></span><span class="sig-name descname"><span class="pre">load_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io_utils.load_json" title="Link to this definition">¶</a></dt>
<dd><p>Load a JSON file from the provided path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>str</em>) – Path to json file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Parsed JSON data or None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>JSON object</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="io_utils.load_dataset_xls">
<span class="sig-prename descclassname"><span class="pre">io_utils.</span></span><span class="sig-name descname"><span class="pre">load_dataset_xls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io_utils.load_dataset_xls" title="Link to this definition">¶</a></dt>
<dd><p>Load an xls/xlsx file containing the dataset metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>str</em>) – Path to metadata file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pandas dataframe with the loaded metadata</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="io_utils.get_field_item">
<span class="sig-prename descclassname"><span class="pre">io_utils.</span></span><span class="sig-name descname"><span class="pre">get_field_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata_dictionary</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'aliases'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io_utils.get_field_item" title="Link to this definition">¶</a></dt>
<dd><p>For an input metadata dictionary where each top level key is a field name,
get the specified item values for each field. By default, the list of aliases of each field is retrieved.
Return a dictionary with the field names as keys and the corresponding items as values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metadata_dictionary</strong> (<em>Dictionary</em>) – Metadata dictionary object</p></li>
<li><p><strong>item_key</strong> (<em>str</em>) – Key name for the item to be retrieved</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with the field names as keys and the specified items as values</p>
</dd>
<dt class="field-odd">Rtype field_item_dict<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="io_utils.get_dictionary">
<span class="sig-prename descclassname"><span class="pre">io_utils.</span></span><span class="sig-name descname"><span class="pre">get_dictionary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io_utils.get_dictionary" title="Link to this definition">¶</a></dt>
<dd><p>Load a python dictionary structure from a json file.
If a target key is provided, the nested dictionary structure is traversed until the target key is found.
The value corresponding to the target key, which should be a dictionary, is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Path to a python dictionary stored in a json file.</p></li>
<li><p><strong>target_key</strong> (<em>str</em>) – Dictionary key to retrieve the required metadata dictionary from the input nexted dictionary</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Target dictionary</p>
</dd>
<dt class="field-odd">Rtype d<span class="colon">:</span></dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="io_utils.find_key_path">
<span class="sig-prename descclassname"><span class="pre">io_utils.</span></span><span class="sig-name descname"><span class="pre">find_key_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io_utils.find_key_path" title="Link to this definition">¶</a></dt>
<dd><p>Recursively searches for a target key in a nested dicitonary.
Returns the path to the first instance of the key as a list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d</strong> (<em>dictionary</em>) – Nested dictionary</p></li>
<li><p><strong>target_key</strong> (<em>str</em>) – Dictionary key</p></li>
<li><p><strong>key_path</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Partial path to target key used for recursion, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Full path to target key</p>
</dd>
<dt class="field-odd">Rtype key_path<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="io_utils.plot_completeness_barchart">
<span class="sig-prename descclassname"><span class="pre">io_utils.</span></span><span class="sig-name descname"><span class="pre">plot_completeness_barchart</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_plot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">available_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Completeness'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#5577DD',</span> <span class="pre">'#DD3333']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io_utils.plot_completeness_barchart" title="Link to this definition">¶</a></dt>
<dd><p>Plot completeness visualization barchart from dataframe</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_plot</strong> (<em>pd.DataFrame</em>) – A matplotlib axis object of the barchart on which to plot the text labels</p></li>
<li><p><strong>available_list</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of available headers</p></li>
<li><p><strong>plot_title</strong> (<em>str</em>) – Title for plot figure</p></li>
<li><p><strong>plot_colors</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – The two colors to be used in the plot to represent ‘Available’ and ‘Unavailable’.
Provided as a list of color hex codes.</p></li>
<li><p><strong>add_text</strong> (<em>bool</em>) – Flag to add text with completeness levels inside the bars of the chart.</p></li>
<li><p><strong>savefig</strong> – Flag to save the plot as a png.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="io_utils.add_text_sbarchart">
<span class="sig-prename descclassname"><span class="pre">io_utils.</span></span><span class="sig-name descname"><span class="pre">add_text_sbarchart</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_plot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io_utils.add_text_sbarchart" title="Link to this definition">¶</a></dt>
<dd><p>Add text labels inside the bars of a completeness visualization barchart</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<em>Axes</em>) – A matplotlib axis object of the barchart on which to plot the text labels</p></li>
<li><p><strong>df_plot</strong> (<em>pd.DataFrame</em>) – Pandas dataframe with the data for plotting</p></li>
<li><p><strong>fontsize</strong> (<em>int</em>) – Fontsize for the text labels</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">dcard-completeness</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">dcard-completeness documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="#functions">Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#score-utils"><strong>Score Utils</strong></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#score_utils.dataset_level_completeness_check"><code class="docutils literal notranslate"><span class="pre">dataset_level_completeness_check()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#score_utils.compute_completeness_score"><code class="docutils literal notranslate"><span class="pre">compute_completeness_score()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#score_utils.record_level_completeness_check"><code class="docutils literal notranslate"><span class="pre">record_level_completeness_check()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#field-matching-utils"><strong>Field Matching Utils</strong></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#field_matching_utils.clean_string"><code class="docutils literal notranslate"><span class="pre">clean_string()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#field_matching_utils.strict_field_matching"><code class="docutils literal notranslate"><span class="pre">strict_field_matching()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#field_matching_utils.soft_field_matching"><code class="docutils literal notranslate"><span class="pre">soft_field_matching()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#field_matching_utils.dictionary_field_matching"><code class="docutils literal notranslate"><span class="pre">dictionary_field_matching()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#field_matching_utils.fuzzy_field_matching"><code class="docutils literal notranslate"><span class="pre">fuzzy_field_matching()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#field_matching_utils.get_fuzzy_matches"><code class="docutils literal notranslate"><span class="pre">get_fuzzy_matches()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#field_matching_utils.get_LM_matches"><code class="docutils literal notranslate"><span class="pre">get_LM_matches()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#field_matching_utils.ranked_field_matching"><code class="docutils literal notranslate"><span class="pre">ranked_field_matching()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#io-utils"><strong>IO Utils</strong></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#io_utils.load_metadata_file"><code class="docutils literal notranslate"><span class="pre">load_metadata_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#io_utils.load_dataset_csv"><code class="docutils literal notranslate"><span class="pre">load_dataset_csv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#io_utils.load_json"><code class="docutils literal notranslate"><span class="pre">load_json()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#io_utils.load_dataset_xls"><code class="docutils literal notranslate"><span class="pre">load_dataset_xls()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#io_utils.get_field_item"><code class="docutils literal notranslate"><span class="pre">get_field_item()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#io_utils.get_dictionary"><code class="docutils literal notranslate"><span class="pre">get_dictionary()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#io_utils.find_key_path"><code class="docutils literal notranslate"><span class="pre">find_key_path()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#io_utils.plot_completeness_barchart"><code class="docutils literal notranslate"><span class="pre">plot_completeness_barchart()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#io_utils.add_text_sbarchart"><code class="docutils literal notranslate"><span class="pre">add_text_sbarchart()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">DataCard - Completeness Documentation</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Tahsin Rahman.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/functions.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>